{"version":3,"sources":["../../../src/modules/groups/groups.service.ts"],"sourcesContent":["import { Injectable } from '@nestjs/common';\nimport { CreateGroupDto } from './dto/create-group.dto';\nimport { UpdateGroupDto } from './dto/update-group.dto';\nimport { DatabaseService } from '@common/database/database.service';\nimport { groups, questionGroups } from './entities/group.entity';\nimport { eq } from 'drizzle-orm';\n\n@Injectable()\nexport class GroupsService {\n  constructor(\n    private readonly drizzle: DatabaseService\n  ) { }\n\n  async create(createGroupDto: CreateGroupDto) {\n    return this.drizzle.db.insert(groups).values(createGroupDto).returning();\n  }\n\n  async update(id: string, updateGroupDto: UpdateGroupDto) {\n    return this.drizzle.db.update(groups).set(updateGroupDto).where(eq(groups.id, id)).returning();\n  }\n\n  async findAll() {\n    return this.drizzle.db.select().from(groups);\n  }\n\n  async findOne(id: string) {\n    return this.drizzle.db.select().from(groups).where(eq(groups.id, id));\n  }\n\n  async delete(id: string) {\n    return this.drizzle.db.delete(groups).where(eq(groups.id, id)).returning();\n  }\n\n  async addQuestionToGroup(id: string, questionId: string) {\n    return this.drizzle.db.insert(questionGroups).values({ groupId: id, questionId }).returning();\n  }\n}\n"],"names":["GroupsService","create","createGroupDto","drizzle","db","insert","groups","values","returning","update","id","updateGroupDto","set","where","eq","findAll","select","from","findOne","delete","addQuestionToGroup","questionId","questionGroups","groupId","constructor"],"mappings":";;;;+BAQaA;;;eAAAA;;;wBARc;iCAGK;6BACO;4BACpB;;;;;;;;;;AAGZ,IAAA,AAAMA,gBAAN,MAAMA;IAKX,MAAMC,OAAOC,cAA8B,EAAE;QAC3C,OAAO,IAAI,CAACC,OAAO,CAACC,EAAE,CAACC,MAAM,CAACC,mBAAM,EAAEC,MAAM,CAACL,gBAAgBM,SAAS;IACxE;IAEA,MAAMC,OAAOC,EAAU,EAAEC,cAA8B,EAAE;QACvD,OAAO,IAAI,CAACR,OAAO,CAACC,EAAE,CAACK,MAAM,CAACH,mBAAM,EAAEM,GAAG,CAACD,gBAAgBE,KAAK,CAACC,IAAAA,cAAE,EAACR,mBAAM,CAACI,EAAE,EAAEA,KAAKF,SAAS;IAC9F;IAEA,MAAMO,UAAU;QACd,OAAO,IAAI,CAACZ,OAAO,CAACC,EAAE,CAACY,MAAM,GAAGC,IAAI,CAACX,mBAAM;IAC7C;IAEA,MAAMY,QAAQR,EAAU,EAAE;QACxB,OAAO,IAAI,CAACP,OAAO,CAACC,EAAE,CAACY,MAAM,GAAGC,IAAI,CAACX,mBAAM,EAAEO,KAAK,CAACC,IAAAA,cAAE,EAACR,mBAAM,CAACI,EAAE,EAAEA;IACnE;IAEA,MAAMS,OAAOT,EAAU,EAAE;QACvB,OAAO,IAAI,CAACP,OAAO,CAACC,EAAE,CAACe,MAAM,CAACb,mBAAM,EAAEO,KAAK,CAACC,IAAAA,cAAE,EAACR,mBAAM,CAACI,EAAE,EAAEA,KAAKF,SAAS;IAC1E;IAEA,MAAMY,mBAAmBV,EAAU,EAAEW,UAAkB,EAAE;QACvD,OAAO,IAAI,CAAClB,OAAO,CAACC,EAAE,CAACC,MAAM,CAACiB,2BAAc,EAAEf,MAAM,CAAC;YAAEgB,SAASb;YAAIW;QAAW,GAAGb,SAAS;IAC7F;IA1BAgB,YACE,AAAiBrB,OAAwB,CACzC;aADiBA,UAAAA;IACf;AAyBN"}